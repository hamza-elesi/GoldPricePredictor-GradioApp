import{p as M,u as O}from"./index-c4af12f4.js";import{a as P}from"./SelectSource.svelte_svelte_type_style_lang-09934a57.js";import"./svelte/svelte.js";import"./Index-cd4ac184.js";const{SvelteComponent:Q,attr:r,binding_callbacks:R,create_component:T,create_slot:V,destroy_component:X,detach:S,element:W,get_all_dirty_from_scope:Y,get_slot_changes:Z,init:p,insert:j,listen:E,mount_component:x,run_all:$,safe_not_equal:ee,space:F,src_url_equal:I,transition_in:G,transition_out:H,update_slot_base:ie}=window.__gradio__svelte__internal,{tick:le,createEventDispatcher:ne,getContext:te}=window.__gradio__svelte__internal;function N(n){let e,i,l;return{c(){e=W("img"),r(e,"class","button-icon svelte-1rvxzzt"),I(e.src,i=n[7].url)||r(e,"src",i),r(e,"alt",l=`${n[0]} icon`)},m(t,a){j(t,e,a)},p(t,a){a&128&&!I(e.src,i=t[7].url)&&r(e,"src",i),a&1&&l!==(l=`${t[0]} icon`)&&r(e,"alt",l)},d(t){t&&S(e)}}}function ae(n){let e,i,l=n[7]&&N(n);const t=n[18].default,a=V(t,n,n[20],null);return{c(){l&&l.c(),e=F(),a&&a.c()},m(s,c){l&&l.m(s,c),j(s,e,c),a&&a.m(s,c),i=!0},p(s,c){s[7]?l?l.p(s,c):(l=N(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),a&&a.p&&(!i||c&1048576)&&ie(a,t,s,s[20],i?Z(t,s[20],c,null):Y(s[20]),null)},i(s){i||(G(a,s),i=!0)},o(s){H(a,s),i=!1},d(s){s&&S(e),l&&l.d(s),a&&a.d(s)}}}function fe(n){let e,i,l,t,a,s,c,m,b,g;return c=new P({props:{size:n[6],variant:n[10],elem_id:n[1],elem_classes:n[2],visible:n[3],scale:n[8],min_width:n[9],disabled:n[11],$$slots:{default:[ae]},$$scope:{ctx:n}}}),c.$on("click",n[14]),{c(){e=W("input"),s=F(),T(c.$$.fragment),r(e,"class","hide svelte-1rvxzzt"),r(e,"accept",n[13]),r(e,"type","file"),e.multiple=i=n[5]==="multiple"||void 0,r(e,"webkitdirectory",l=n[5]==="directory"||void 0),r(e,"mozdirectory",t=n[5]==="directory"||void 0),r(e,"data-testid",a=n[4]+"-upload-button")},m(u,o){j(u,e,o),n[19](e),j(u,s,o),x(c,u,o),m=!0,b||(g=[E(e,"change",n[15]),E(e,"click",_e)],b=!0)},p(u,[o]){(!m||o&8192)&&r(e,"accept",u[13]),(!m||o&32&&i!==(i=u[5]==="multiple"||void 0))&&(e.multiple=i),(!m||o&32&&l!==(l=u[5]==="directory"||void 0))&&r(e,"webkitdirectory",l),(!m||o&32&&t!==(t=u[5]==="directory"||void 0))&&r(e,"mozdirectory",t),(!m||o&16&&a!==(a=u[4]+"-upload-button"))&&r(e,"data-testid",a);const d={};o&64&&(d.size=u[6]),o&1024&&(d.variant=u[10]),o&2&&(d.elem_id=u[1]),o&4&&(d.elem_classes=u[2]),o&8&&(d.visible=u[3]),o&256&&(d.scale=u[8]),o&512&&(d.min_width=u[9]),o&2048&&(d.disabled=u[11]),o&1048705&&(d.$$scope={dirty:o,ctx:u}),c.$set(d)},i(u){m||(G(c.$$.fragment,u),m=!0)},o(u){H(c.$$.fragment,u),m=!1},d(u){u&&(S(e),S(s)),n[19](null),X(c,u),b=!1,$(g)}}}function _e(n){const e=n.target;e.value&&(e.value="")}function ue(n,e,i){let{$$slots:l={},$$scope:t}=e,{elem_id:a=""}=e,{elem_classes:s=[]}=e,{visible:c=!0}=e,{label:m}=e,{value:b}=e,{file_count:g}=e,{file_types:u=[]}=e,{root:o}=e,{size:d="lg"}=e,{icon:k=null}=e,{scale:B=null}=e,{min_width:q=void 0}=e,{variant:h="secondary"}=e,{disabled:w=!1}=e;const v=ne(),A=te("upload_files");let z,C;u==null?C=null:(u=u.map(f=>f.startsWith(".")?f:f+"/*"),C=u.join(", "));function _(){v("click"),z.click()}async function D(f){let U=Array.from(f);if(!f.length)return;g==="single"&&(U=[f[0]]);let y=await M(U);await le(),y=(await O(y,o,void 0,A))?.filter(L=>L!==null),i(0,b=g==="single"?y?.[0]:y),v("change",b),v("upload",b)}async function J(f){const U=f.target;U.files&&await D(U.files)}function K(f){R[f?"unshift":"push"](()=>{z=f,i(12,z)})}return n.$$set=f=>{"elem_id"in f&&i(1,a=f.elem_id),"elem_classes"in f&&i(2,s=f.elem_classes),"visible"in f&&i(3,c=f.visible),"label"in f&&i(4,m=f.label),"value"in f&&i(0,b=f.value),"file_count"in f&&i(5,g=f.file_count),"file_types"in f&&i(16,u=f.file_types),"root"in f&&i(17,o=f.root),"size"in f&&i(6,d=f.size),"icon"in f&&i(7,k=f.icon),"scale"in f&&i(8,B=f.scale),"min_width"in f&&i(9,q=f.min_width),"variant"in f&&i(10,h=f.variant),"disabled"in f&&i(11,w=f.disabled),"$$scope"in f&&i(20,t=f.$$scope)},[b,a,s,c,m,g,d,k,B,q,h,w,z,C,_,J,u,o,l,K,t]}class se extends Q{constructor(e){super(),p(this,e,ue,fe,ee,{elem_id:1,elem_classes:2,visible:3,label:4,value:0,file_count:5,file_types:16,root:17,size:6,icon:7,scale:8,min_width:9,variant:10,disabled:11})}}const oe=se,{SvelteComponent:ce,create_component:me,destroy_component:de,detach:re,init:be,insert:ge,mount_component:he,safe_not_equal:ve,set_data:we,text:ze,transition_in:ke,transition_out:Be}=window.__gradio__svelte__internal;function qe(n){let e=(n[4]?n[13].i18n(n[4]):"")+"",i;return{c(){i=ze(e)},m(l,t){ge(l,i,t)},p(l,t){t&8208&&e!==(e=(l[4]?l[13].i18n(l[4]):"")+"")&&we(i,e)},d(l){l&&re(i)}}}function Ce(n){let e,i;return e=new oe({props:{elem_id:n[1],elem_classes:n[2],visible:n[3],file_count:n[5],file_types:n[6],size:n[8],scale:n[9],icon:n[10],min_width:n[11],root:n[7],value:n[0],disabled:n[14],variant:n[12],label:n[4],$$slots:{default:[qe]},$$scope:{ctx:n}}}),e.$on("click",n[17]),e.$on("change",n[18]),e.$on("upload",n[19]),{c(){me(e.$$.fragment)},m(l,t){he(e,l,t),i=!0},p(l,[t]){const a={};t&2&&(a.elem_id=l[1]),t&4&&(a.elem_classes=l[2]),t&8&&(a.visible=l[3]),t&32&&(a.file_count=l[5]),t&64&&(a.file_types=l[6]),t&256&&(a.size=l[8]),t&512&&(a.scale=l[9]),t&1024&&(a.icon=l[10]),t&2048&&(a.min_width=l[11]),t&128&&(a.root=l[7]),t&1&&(a.value=l[0]),t&16384&&(a.disabled=l[14]),t&4096&&(a.variant=l[12]),t&16&&(a.label=l[4]),t&1056784&&(a.$$scope={dirty:t,ctx:l}),e.$set(a)},i(l){i||(ke(e.$$.fragment,l),i=!0)},o(l){Be(e.$$.fragment,l),i=!1},d(l){de(e,l)}}}function Ue(n,e,i){let l,{elem_id:t=""}=e,{elem_classes:a=[]}=e,{visible:s=!0}=e,{label:c}=e,{value:m}=e,{file_count:b}=e,{file_types:g=[]}=e,{root:u}=e,{size:o="lg"}=e,{scale:d=null}=e,{icon:k=null}=e,{min_width:B=void 0}=e,{variant:q="secondary"}=e,{gradio:h}=e,{interactive:w}=e;async function v(_,D){i(0,m=_),h.dispatch(D)}const A=()=>h.dispatch("click"),z=({detail:_})=>v(_,"change"),C=({detail:_})=>v(_,"upload");return n.$$set=_=>{"elem_id"in _&&i(1,t=_.elem_id),"elem_classes"in _&&i(2,a=_.elem_classes),"visible"in _&&i(3,s=_.visible),"label"in _&&i(4,c=_.label),"value"in _&&i(0,m=_.value),"file_count"in _&&i(5,b=_.file_count),"file_types"in _&&i(6,g=_.file_types),"root"in _&&i(7,u=_.root),"size"in _&&i(8,o=_.size),"scale"in _&&i(9,d=_.scale),"icon"in _&&i(10,k=_.icon),"min_width"in _&&i(11,B=_.min_width),"variant"in _&&i(12,q=_.variant),"gradio"in _&&i(13,h=_.gradio),"interactive"in _&&i(16,w=_.interactive)},n.$$.update=()=>{n.$$.dirty&65536&&i(14,l=!w)},[m,t,a,s,c,b,g,u,o,d,k,B,q,h,l,v,w,A,z,C]}class De extends ce{constructor(e){super(),be(this,e,Ue,Ce,ve,{elem_id:1,elem_classes:2,visible:3,label:4,value:0,file_count:5,file_types:6,root:7,size:8,scale:9,icon:10,min_width:11,variant:12,gradio:13,interactive:16})}}export{oe as BaseUploadButton,De as default};
//# sourceMappingURL=Index-c3729400.js.map
